<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=../installation/ rel=prev><link href=../todo/ rel=next><link rel=icon href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.0, mkdocs-material-9.5.25"><title>Usage - FastAPI Redis Cache (Reborn!)</title><link rel=stylesheet href=../assets/stylesheets/main.6543a935.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../assets/_mkdocstrings.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=light-blue data-md-color-accent=blue> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#usage class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="FastAPI Redis Cache (Reborn!)" class="md-header__button md-logo" aria-label="FastAPI Redis Cache (Reborn!)" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> FastAPI Redis Cache (Reborn!) </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Usage </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/seapagan/fastapi-redis-cache-reborn title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> fastapi-redis-cache-reborn </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="FastAPI Redis Cache (Reborn!)" class="md-nav__button md-logo" aria-label="FastAPI Redis Cache (Reborn!)" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> FastAPI Redis Cache (Reborn!) </label> <div class=md-nav__source> <a href=https://github.com/seapagan/fastapi-redis-cache-reborn title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> fastapi-redis-cache-reborn </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../installation/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Usage </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Usage </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#redis-server class=md-nav__link> <span class=md-ellipsis> Redis Server </span> </a> </li> <li class=md-nav__item> <a href=#initialize-redis-in-your-fastapi-application class=md-nav__link> <span class=md-ellipsis> Initialize Redis in your FastAPI application </span> </a> </li> <li class=md-nav__item> <a href=#cache-decorator class=md-nav__link> <span class=md-ellipsis> @cache Decorator </span> </a> <nav class=md-nav aria-label="@cache Decorator"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#response-headers class=md-nav__link> <span class=md-ellipsis> Response Headers </span> </a> </li> <li class=md-nav__item> <a href=#pre-defined-lifetimes class=md-nav__link> <span class=md-ellipsis> Pre-defined Lifetimes </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cache-keys class=md-nav__link> <span class=md-ellipsis> Cache Keys </span> </a> </li> <li class=md-nav__item> <a href=#cache-keys-pt-2 class=md-nav__link> <span class=md-ellipsis> Cache Keys Pt 2 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../todo/ class=md-nav__link> <span class=md-ellipsis> To Do </span> </a> </li> <li class=md-nav__item> <a href=../contributing/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> </a> </li> <li class=md-nav__item> <a href=../changelog/ class=md-nav__link> <span class=md-ellipsis> Changelog </span> </a> </li> <li class=md-nav__item> <a href=../license/ class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#redis-server class=md-nav__link> <span class=md-ellipsis> Redis Server </span> </a> </li> <li class=md-nav__item> <a href=#initialize-redis-in-your-fastapi-application class=md-nav__link> <span class=md-ellipsis> Initialize Redis in your FastAPI application </span> </a> </li> <li class=md-nav__item> <a href=#cache-decorator class=md-nav__link> <span class=md-ellipsis> @cache Decorator </span> </a> <nav class=md-nav aria-label="@cache Decorator"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#response-headers class=md-nav__link> <span class=md-ellipsis> Response Headers </span> </a> </li> <li class=md-nav__item> <a href=#pre-defined-lifetimes class=md-nav__link> <span class=md-ellipsis> Pre-defined Lifetimes </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cache-keys class=md-nav__link> <span class=md-ellipsis> Cache Keys </span> </a> </li> <li class=md-nav__item> <a href=#cache-keys-pt-2 class=md-nav__link> <span class=md-ellipsis> Cache Keys Pt 2 </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=usage>Usage</h1> <h2 id=redis-server>Redis Server</h2> <p>You will need access to a Redis server. If you don't have one running locally, you can use <code>Docker</code> or even a cloud service like <a href=https://redis.com/cloud/overview/ target=_blank>Redis Cloud</a> or <a href=https://aws.amazon.com/elasticache/redis/ target='"_blank'>AWS ElastiCache</a>.</p> <p>There is a <code>docker-compose-redis-only.yml</code> file in the root of this repository that you can use to start a Redis server locally. Just run:</p> <div class=highlight><pre><span></span><code>docker<span class=w> </span>compose<span class=w> </span>-f<span class=w> </span>docker-compose-redis-only.yml<span class=w> </span>up<span class=w> </span>-d
</code></pre></div> <p>This will spin up a Redis server on <code>localhost:6379</code>, without any password, running in the background. You can stop it with:</p> <div class=highlight><pre><span></span><code>docker<span class=w> </span>compose<span class=w> </span>-f<span class=w> </span>docker-compose-redis-only.yml<span class=w> </span>down
</code></pre></div> <p>The image is based on <a href=https://redis.io/docs/install/install-stack/docker/ target='"_blank'>redis/redis-stack</a> so also includes <a href=https://redis.io/docs/connect/insight/ target='"_blank'>RedisInsight</a> running on port <code>8001</code> that you can use to inspect the Redis server.</p> <p><strong>Note that this is a development server and should not be used in production.</strong></p> <h2 id=initialize-redis-in-your-fastapi-application>Initialize Redis in your FastAPI application</h2> <p>Create a <code>FastApiRedisCache</code> instance when your application starts by defining a <a href=https://fastapi.tiangolo.com/advanced/events/ target='"_blank'>Lifespan event handler</a> as shown below. Replace the <code>REDIS_SERVER_URL</code> with the address and port of your own Redis server.</p> <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>os</span>

<span class=kn>from</span> <span class=nn>contextlib</span> <span class=kn>import</span> <span class=n>asynccontextmanager</span>

<span class=kn>from</span> <span class=nn>fastapi</span> <span class=kn>import</span> <span class=n>FastAPI</span><span class=p>,</span> <span class=n>Request</span><span class=p>,</span> <span class=n>Response</span>
<span class=kn>from</span> <span class=nn>fastapi_redis_cache</span> <span class=kn>import</span> <span class=n>FastApiRedisCache</span><span class=p>,</span> <span class=n>cache</span>
<span class=kn>from</span> <span class=nn>sqlalchemy.orm</span> <span class=kn>import</span> <span class=n>Session</span>

<span class=n>REDIS_SERVER_URL</span> <span class=o>=</span> <span class=s2>&quot;redis://127.0.0.1:6379&quot;</span>

<span class=nd>@asynccontextmanager</span>
<span class=k>async</span> <span class=k>def</span> <span class=nf>lifespan</span><span class=p>(</span><span class=n>app</span><span class=p>:</span> <span class=n>FastAPI</span><span class=p>):</span>
    <span class=n>redis_cache</span> <span class=o>=</span> <span class=n>FastApiRedisCache</span><span class=p>()</span>
    <span class=n>redis_cache</span><span class=o>.</span><span class=n>init</span><span class=p>(</span>
        <span class=n>host_url</span><span class=o>=</span><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;REDIS_URL&quot;</span><span class=p>,</span> <span class=n>REDIS_SERVER_URL</span><span class=p>),</span>
        <span class=n>prefix</span><span class=o>=</span><span class=s2>&quot;myapi-cache&quot;</span><span class=p>,</span>
        <span class=n>response_header</span><span class=o>=</span><span class=s2>&quot;X-MyAPI-Cache&quot;</span><span class=p>,</span>
        <span class=n>ignore_arg_types</span><span class=o>=</span><span class=p>[</span><span class=n>Request</span><span class=p>,</span> <span class=n>Response</span><span class=p>,</span> <span class=n>Session</span><span class=p>]</span>
    <span class=p>)</span>
    <span class=k>yield</span>

<span class=n>app</span> <span class=o>=</span> <span class=n>FastAPI</span><span class=p>(</span><span class=n>title</span><span class=o>=</span><span class=s2>&quot;FastAPI Redis Cache Example&quot;</span><span class=p>,</span><span class=n>lifespan</span><span class=o>=</span><span class=n>lifespan</span><span class=p>)</span>

<span class=c1># routes and more code</span>
</code></pre></div> <p>After creating the instance, you must call the <code>init</code> method. The only required argument for this method is the URL for the Redis database (<code>host_url</code>). All other arguments are optional:</p> <ul> <li><code>host_url</code> (<code>str</code>) &mdash; Redis database URL. (<em><strong>Required</strong></em>)</li> <li><code>prefix</code> (<code>str</code>) &mdash; Prefix to add to every cache key stored in the Redis database. (<em>Optional</em>, defaults to <code>None</code>)</li> <li><code>response_header</code> (<code>str</code>) &mdash; Name of the custom header field used to identify cache hits/misses. (<em>Optional</em>, defaults to <code>X-FastAPI-Cache</code>)</li> <li><code>ignore_arg_types</code> (<code>List[Type[object]]</code>) &mdash; Cache keys are created (in part) by combining the name and value of each argument used to invoke a path operation function. If any of the arguments have no effect on the response (such as a <code>Request</code> or <code>Response</code> object), including their type in this list will ignore those arguments when the key is created. (<em>Optional</em>, defaults to <code>[Request, Response]</code>)</li> <li>The example shown here includes the <code>sqlalchemy.orm.Session</code> type, if your project uses SQLAlchemy as a dependency (<a href=https://fastapi.tiangolo.com/tutorial/sql-databases/ target='"_blank'>as demonstrated in the FastAPI docs</a>), you should include <code>Session</code> in <code>ignore_arg_types</code> in order for cache keys to be created correctly (<a href=#cache-keys>More info</a>).</li> </ul> <h2 id=cache-decorator><code>@cache</code> Decorator</h2> <p>Decorating a path function with <code>@cache</code> enables caching for the endpoint. <strong>Response data is only cached for <code>GET</code> operations</strong>, decorating path functions for other HTTP method types will have no effect. If no arguments are provided, responses will be set to expire after one year, which, historically, is the correct way to mark data that "never expires".</p> <div class=highlight><pre><span></span><code><span class=c1># WILL NOT be cached</span>
<span class=nd>@app</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;/data_no_cache&quot;</span><span class=p>)</span>
<span class=k>def</span> <span class=nf>get_data</span><span class=p>():</span>
    <span class=k>return</span> <span class=p>{</span><span class=s2>&quot;success&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span> <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=s2>&quot;this data is not cacheable, for... you know, reasons&quot;</span><span class=p>}</span>

<span class=c1># Will be cached for one year</span>
<span class=nd>@app</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;/immutable_data&quot;</span><span class=p>)</span>
<span class=nd>@cache</span><span class=p>()</span>
<span class=k>async</span> <span class=k>def</span> <span class=nf>get_immutable_data</span><span class=p>():</span>
    <span class=k>return</span> <span class=p>{</span><span class=s2>&quot;success&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span> <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=s2>&quot;this data can be cached indefinitely&quot;</span><span class=p>}</span>
</code></pre></div> <p>Response data for the API endpoint at <code>/immutable_data</code> will be cached by the Redis server. Log messages are written to standard output whenever a response is added to or retrieved from the cache:</p> <div class=highlight><pre><span></span><code><span class=go>INFO:fastapi_redis_cache:| 04/21/2021 12:26:26 AM | CONNECT_BEGIN: Attempting to connect to Redis server...</span>
<span class=go>INFO:fastapi_redis_cache:| 04/21/2021 12:26:26 AM | CONNECT_SUCCESS: Redis client is connected to server.</span>
<span class=go>INFO:fastapi_redis_cache:| 04/21/2021 12:26:34 AM | KEY_ADDED_TO_CACHE: key=api.get_immutable_data()</span>
<span class=go>INFO:     127.0.0.1:61779 - &quot;GET /immutable_data HTTP/1.1&quot; 200 OK</span>
<span class=go>INFO:fastapi_redis_cache:| 04/21/2021 12:26:45 AM | KEY_FOUND_IN_CACHE: key=api.get_immutable_data()</span>
<span class=go>INFO:     127.0.0.1:61779 - &quot;GET /immutable_data HTTP/1.1&quot; 200 OK</span>
</code></pre></div> <p>The log messages show two successful (<strong><code>200 OK</code></strong>) responses to the same request (<strong><code>GET /immutable_data</code></strong>). The first request executed the <code>get_immutable_data</code> function and stored the result in Redis under key <code>api.get_immutable_data()</code>. The second request <em><strong>did not</strong></em> execute the <code>get_immutable_data</code> function, instead the cached result was retrieved and sent as the response.</p> <p>In most situations, response data must expire in a much shorter period of time than one year. Using the <code>expire</code> parameter, You can specify the number of seconds before data is deleted:</p> <div class=highlight><pre><span></span><code><span class=c1># Will be cached for thirty seconds</span>
<span class=nd>@app</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;/dynamic_data&quot;</span><span class=p>)</span>
<span class=nd>@cache</span><span class=p>(</span><span class=n>expire</span><span class=o>=</span><span class=mi>30</span><span class=p>)</span>
<span class=k>def</span> <span class=nf>get_dynamic_data</span><span class=p>(</span><span class=n>request</span><span class=p>:</span> <span class=n>Request</span><span class=p>,</span> <span class=n>response</span><span class=p>:</span> <span class=n>Response</span><span class=p>):</span>
    <span class=k>return</span> <span class=p>{</span><span class=s2>&quot;success&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span> <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=s2>&quot;this data should only be cached temporarily&quot;</span><span class=p>}</span>
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p><code>expire</code> can be either an <code>int</code> value or <code>timedelta</code> object. When the TTL is very short (like the example above) this results in a decorator that is expressive and requires minimal effort to parse visually. For durations an hour or longer (e.g., <code>@cache(expire=86400)</code>), IMHO, using a <code>timedelta</code> object is much easier to grok (<code>@cache(expire=timedelta(days=1))</code>).</p> </div> <h3 id=response-headers>Response Headers</h3> <p>A response from the <code>/dynamic_data</code> endpoint showing all header values is given below:</p> <div class=highlight><pre><span></span><code><span class=gp>$ </span>http<span class=w> </span><span class=s2>&quot;http://127.0.0.1:8000/dynamic_data&quot;</span>
<span class=go>  HTTP/1.1 200 OK</span>
<span class=go>  cache-control: max-age=29</span>
<span class=go>  content-length: 72</span>
<span class=go>  content-type: application/json</span>
<span class=go>  date: Wed, 21 Apr 2021 07:54:33 GMT</span>
<span class=go>  etag: W/-5480454928453453778</span>
<span class=go>  expires: Wed, 21 Apr 2021 07:55:03 GMT</span>
<span class=go>  server: uvicorn</span>
<span class=go>  x-fastapi-cache: Hit</span>

<span class=go>  {</span>
<span class=go>      &quot;message&quot;: &quot;this data should only be cached temporarily&quot;,</span>
<span class=go>      &quot;success&quot;: true</span>
<span class=go>  }</span>
</code></pre></div> <ul> <li>The <code>x-fastapi-cache</code> header field indicates that this response was found in the Redis cache (a.k.a. a <code>Hit</code>). The only other possible value for this field is <code>Miss</code>.</li> <li>The <code>expires</code> field and <code>max-age</code> value in the <code>cache-control</code> field indicate that this response will be considered fresh for 29 seconds. This is expected since <code>expire=30</code> was specified in the <code>@cache</code> decorator.</li> <li>The <code>etag</code> field is an identifier that is created by converting the response data to a string and applying a hash function. If a request containing the <code>if-none-match</code> header is received, any <code>etag</code> value(s) included in the request will be used to determine if the data requested is the same as the data stored in the cache. If they are the same, a <code>304 NOT MODIFIED</code> response will be sent. If they are not the same, the cached data will be sent with a <code>200 OK</code> response.</li> </ul> <p>These header fields are used by your web browser's cache to avoid sending unnecessary requests. After receiving the response shown above, if a user requested the same resource before the <code>expires</code> time, the browser wouldn't send a request to the FastAPI server. Instead, the cached response would be served directly from disk.</p> <p>Of course, this assumes that the browser is configured to perform caching. If the browser sends a request with the <code>cache-control</code> header containing <code>no-cache</code> or <code>no-store</code>, the <code>cache-control</code>, <code>etag</code>, <code>expires</code>, and <code>x-fastapi-cache</code> response header fields will not be included and the response data will not be stored in Redis.</p> <h3 id=pre-defined-lifetimes>Pre-defined Lifetimes</h3> <p>The decorators listed below define several common durations and can be used in place of the <code>@cache</code> decorator:</p> <ul> <li><code>@cache_one_minute</code></li> <li><code>@cache_one_hour</code></li> <li><code>@cache_one_day</code></li> <li><code>@cache_one_week</code></li> <li><code>@cache_one_month</code></li> <li><code>@cache_one_year</code></li> </ul> <p>For example, instead of <code>@cache(expire=timedelta(days=1))</code>, you could use:</p> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>fastapi_redis_cache</span> <span class=kn>import</span> <span class=n>cache_one_day</span>

<span class=nd>@app</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;/cache_one_day&quot;</span><span class=p>)</span>
<span class=nd>@cache_one_day</span><span class=p>()</span>
<span class=k>def</span> <span class=nf>partial_cache_one_day</span><span class=p>(</span><span class=n>response</span><span class=p>:</span> <span class=n>Response</span><span class=p>):</span>
    <span class=k>return</span> <span class=p>{</span><span class=s2>&quot;success&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span> <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=s2>&quot;this data should be cached for 24 hours&quot;</span><span class=p>}</span>
</code></pre></div> <p>If a duration that you would like to use throughout your project is missing from the list, you can easily create your own:</p> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>functools</span> <span class=kn>import</span> <span class=n>partial</span><span class=p>,</span> <span class=n>update_wrapper</span>
<span class=kn>from</span> <span class=nn>fastapi_redis_cache</span> <span class=kn>import</span> <span class=n>cache</span>

<span class=n>ONE_HOUR_IN_SECONDS</span> <span class=o>=</span> <span class=mi>3600</span>

<span class=n>cache_two_hours</span> <span class=o>=</span> <span class=n>partial</span><span class=p>(</span><span class=n>cache</span><span class=p>,</span> <span class=n>expire</span><span class=o>=</span><span class=n>ONE_HOUR_IN_SECONDS</span> <span class=o>*</span> <span class=mi>2</span><span class=p>)</span>
<span class=n>update_wrapper</span><span class=p>(</span><span class=n>cache_two_hours</span><span class=p>,</span> <span class=n>cache</span><span class=p>)</span>
</code></pre></div> <p>Then, simply import <code>cache_two_hours</code> and use it to decorate your API endpoint path functions:</p> <div class=highlight><pre><span></span><code><span class=nd>@app</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;/cache_two_hours&quot;</span><span class=p>)</span>
<span class=nd>@cache_two_hours</span><span class=p>()</span>
<span class=k>def</span> <span class=nf>partial_cache_two_hours</span><span class=p>(</span><span class=n>response</span><span class=p>:</span> <span class=n>Response</span><span class=p>):</span>
    <span class=k>return</span> <span class=p>{</span><span class=s2>&quot;success&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span> <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=s2>&quot;this data should be cached for two hours&quot;</span><span class=p>}</span>
</code></pre></div> <h2 id=cache-keys>Cache Keys</h2> <p>Consider the <code>/get_user</code> API route defined below. This is the first path function we have seen where the response depends on the value of an argument (<code>id: int</code>). This is a typical CRUD operation where <code>id</code> is used to retrieve a <code>User</code> record from a database. The API route also includes a dependency that injects a <code>Session</code> object (<code>db</code>) into the function, <a href=https://fastapi.tiangolo.com/tutorial/sql-databases/#create-a-dependency target='"_blank'>per the instructions from the FastAPI docs</a>:</p> <div class=highlight><pre><span></span><code><span class=nd>@app</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;/get_user&quot;</span><span class=p>,</span> <span class=n>response_model</span><span class=o>=</span><span class=n>schemas</span><span class=o>.</span><span class=n>User</span><span class=p>)</span>
<span class=nd>@cache</span><span class=p>(</span><span class=n>expire</span><span class=o>=</span><span class=mi>3600</span><span class=p>)</span>
<span class=k>def</span> <span class=nf>get_user</span><span class=p>(</span><span class=nb>id</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>db</span><span class=p>:</span> <span class=n>Session</span> <span class=o>=</span> <span class=n>Depends</span><span class=p>(</span><span class=n>get_db</span><span class=p>)):</span>
    <span class=k>return</span> <span class=n>db</span><span class=o>.</span><span class=n>query</span><span class=p>(</span><span class=n>models</span><span class=o>.</span><span class=n>User</span><span class=p>)</span><span class=o>.</span><span class=n>filter</span><span class=p>(</span><span class=n>models</span><span class=o>.</span><span class=n>User</span><span class=o>.</span><span class=n>id</span> <span class=o>==</span> <span class=nb>id</span><span class=p>)</span><span class=o>.</span><span class=n>first</span><span class=p>()</span>
</code></pre></div> <p>In the <a href=#initialize-redis-in-your-fastapi-application>Initialize Redis</a> section of this document, the <code>FastApiRedisCache.init</code> method was called with <code>ignore_arg_types=[Request, Response, Session]</code>. Why is it necessary to include <code>Session</code> in this list?</p> <p>Before we can answer that question, we must understand how a cache key is created. If the following request was received: <code>GET /get_user?id=1</code>, the cache key generated would be <code>myapi-cache:api.get_user(id=1)</code>.</p> <p>The source of each value used to construct this cache key is given below:</p> <ol> <li>The optional <code>prefix</code> value provided as an argument to the <code>FastApiRedisCache.init</code> method =&gt; <code>"myapi-cache"</code>.</li> <li>The module containing the path function =&gt; <code>"api"</code>.</li> <li>The name of the path function =&gt; <code>"get_user"</code>.</li> <li>The name and value of all arguments to the path function <strong>EXCEPT for arguments with a type that exists in</strong> <code>ignore_arg_types</code> =&gt; <code>"id=1"</code>.</li> </ol> <p>Since <code>Session</code> is included in <code>ignore_arg_types</code>, the <code>db</code> argument was not included in the cache key when <strong>Step 4</strong> was performed.</p> <p>If <code>Session</code> had not been included in <code>ignore_arg_types</code>, caching would be completely broken. To understand why this is the case, see if you can figure out what is happening in the log messages below:</p> <div class=highlight><pre><span></span><code><span class=go>INFO:uvicorn.error:Application startup complete.</span>
<span class=go>INFO:fastapi_redis_cache.client: 04/23/2021 07:04:12 PM | KEY_ADDED_TO_CACHE: key=myapi-cache:api.get_user(id=1,db=&lt;sqlalchemy.orm.session.Session object at 0x11b9fe550&gt;)</span>
<span class=go>INFO:     127.0.0.1:50761 - &quot;GET /get_user?id=1 HTTP/1.1&quot; 200 OK</span>
<span class=go>INFO:fastapi_redis_cache.client: 04/23/2021 07:04:15 PM | KEY_ADDED_TO_CACHE: key=myapi-cache:api.get_user(id=1,db=&lt;sqlalchemy.orm.session.Session object at 0x11c7f73a0&gt;)</span>
<span class=go>INFO:     127.0.0.1:50761 - &quot;GET /get_user?id=1 HTTP/1.1&quot; 200 OK</span>
<span class=go>INFO:fastapi_redis_cache.client: 04/23/2021 07:04:17 PM | KEY_ADDED_TO_CACHE: key=myapi-cache:api.get_user(id=1,db=&lt;sqlalchemy.orm.session.Session object at 0x11c7e35e0&gt;)</span>
<span class=go>INFO:     127.0.0.1:50761 - &quot;GET /get_user?id=1 HTTP/1.1&quot; 200 OK</span>
</code></pre></div> <p>The log messages indicate that three requests were received for the same endpoint, with the same arguments (<code>GET /get_user?id=1</code>). However, the cache key that is created is different for each request:</p> <div class=highlight><pre><span></span><code><span class=go>KEY_ADDED_TO_CACHE: key=myapi-cache:api.get_user(id=1,db=&lt;sqlalchemy.orm.session.Session object at 0x11b9fe550&gt;</span>
<span class=go>KEY_ADDED_TO_CACHE: key=myapi-cache:api.get_user(id=1,db=&lt;sqlalchemy.orm.session.Session object at 0x11c7f73a0&gt;</span>
<span class=go>KEY_ADDED_TO_CACHE: key=myapi-cache:api.get_user(id=1,db=&lt;sqlalchemy.orm.session.Session object at 0x11c7e35e0&gt;</span>
</code></pre></div> <p>The value of each argument is added to the cache key by calling <code>str(arg)</code>. The <code>db</code> object includes the memory location when converted to a string, causing the same response data to be cached under three different keys! This is obviously not what we want.</p> <p>The correct behavior (with <code>Session</code> included in <code>ignore_arg_types</code>) is shown below:</p> <div class=highlight><pre><span></span><code><span class=go>INFO:uvicorn.error:Application startup complete.</span>
<span class=go>INFO:fastapi_redis_cache.client: 04/23/2021 07:04:12 PM | KEY_ADDED_TO_CACHE: key=myapi-cache:api.get_user(id=1)</span>
<span class=go>INFO:     127.0.0.1:50761 - &quot;GET /get_user?id=1 HTTP/1.1&quot; 200 OK</span>
<span class=go>INFO:fastapi_redis_cache.client: 04/23/2021 07:04:12 PM | KEY_FOUND_IN_CACHE: key=myapi-cache:api.get_user(id=1)</span>
<span class=go>INFO:     127.0.0.1:50761 - &quot;GET /get_user?id=1 HTTP/1.1&quot; 200 OK</span>
<span class=go>INFO:fastapi_redis_cache.client: 04/23/2021 07:04:12 PM | KEY_FOUND_IN_CACHE: key=myapi-cache:api.get_user(id=1)</span>
<span class=go>INFO:     127.0.0.1:50761 - &quot;GET /get_user?id=1 HTTP/1.1&quot; 200 OK</span>
</code></pre></div> <p>Now, every request for the same <code>id</code> generates the same key value (<code>myapi-cache:api.get_user(id=1)</code>). As expected, the first request adds the key/value pair to the cache, and each subsequent request retrieves the value from the cache based on the key.</p> <h2 id=cache-keys-pt-2>Cache Keys Pt 2</h2> <p>What about this situation? You create a custom dependency for your API that performs input validation, but you can't ignore it because <em><strong>it does</strong></em> have an effect on the response data. There's a simple solution for that, too.</p> <p>Here is an endpoint from one of my projects:</p> <div class=highlight><pre><span></span><code><span class=nd>@router</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;/scoreboard&quot;</span><span class=p>,</span> <span class=n>response_model</span><span class=o>=</span><span class=n>ScoreboardSchema</span><span class=p>)</span>
<span class=nd>@cache</span><span class=p>()</span>
<span class=k>def</span> <span class=nf>get_scoreboard_for_date</span><span class=p>(</span>
    <span class=n>game_date</span><span class=p>:</span> <span class=n>MLBGameDate</span> <span class=o>=</span> <span class=n>Depends</span><span class=p>(),</span> <span class=n>db</span><span class=p>:</span> <span class=n>Session</span> <span class=o>=</span> <span class=n>Depends</span><span class=p>(</span><span class=n>get_db</span><span class=p>)</span>
<span class=p>):</span>
    <span class=k>return</span> <span class=n>get_scoreboard_data_for_date</span><span class=p>(</span><span class=n>db</span><span class=p>,</span> <span class=n>game_date</span><span class=o>.</span><span class=n>date</span><span class=p>)</span>
</code></pre></div> <p>The <code>game_date</code> argument is a <code>MLBGameDate</code> type. This is a custom type that parses the value from the querystring to a date, and determines if the parsed date is valid by checking if it is within a certain range. The implementation for <code>MLBGameDate</code> is given below:</p> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>MLBGameDate</span><span class=p>:</span>
    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span>
        <span class=bp>self</span><span class=p>,</span>
        <span class=n>game_date</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>Query</span><span class=p>(</span><span class=o>...</span><span class=p>,</span> <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Date as a string in YYYYMMDD format&quot;</span><span class=p>),</span>
        <span class=n>db</span><span class=p>:</span> <span class=n>Session</span> <span class=o>=</span> <span class=n>Depends</span><span class=p>(</span><span class=n>get_db</span><span class=p>),</span>
    <span class=p>):</span>
        <span class=k>try</span><span class=p>:</span>
            <span class=n>parsed_date</span> <span class=o>=</span> <span class=n>parse_date</span><span class=p>(</span><span class=n>game_date</span><span class=p>)</span>
        <span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ex</span><span class=p>:</span>
            <span class=k>raise</span> <span class=n>HTTPException</span><span class=p>(</span><span class=n>status_code</span><span class=o>=</span><span class=mi>400</span><span class=p>,</span> <span class=n>detail</span><span class=o>=</span><span class=n>ex</span><span class=o>.</span><span class=n>message</span><span class=p>)</span>
        <span class=n>result</span> <span class=o>=</span> <span class=n>Season</span><span class=o>.</span><span class=n>is_date_in_season</span><span class=p>(</span><span class=n>db</span><span class=p>,</span> <span class=n>parsed_date</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>result</span><span class=o>.</span><span class=n>failure</span><span class=p>:</span>
            <span class=k>raise</span> <span class=n>HTTPException</span><span class=p>(</span><span class=n>status_code</span><span class=o>=</span><span class=mi>400</span><span class=p>,</span> <span class=n>detail</span><span class=o>=</span><span class=n>result</span><span class=o>.</span><span class=n>error</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>date</span> <span class=o>=</span> <span class=n>parsed_date</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>season</span> <span class=o>=</span> <span class=n>convert_season_to_dict</span><span class=p>(</span><span class=n>result</span><span class=o>.</span><span class=n>value</span><span class=p>)</span>

    <span class=k>def</span> <span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>date</span><span class=o>.</span><span class=n>strftime</span><span class=p>(</span><span class=s2>&quot;%Y-%m-</span><span class=si>%d</span><span class=s2>&quot;</span><span class=p>)</span>
</code></pre></div> <p>Please note the <code>__str__</code> method that overrides the default behavior. This way, instead of <code>&lt;MLBGameDate object at 0x11c7e35e0&gt;</code>, the value will be formatted as, for example, <code>2019-05-09</code>. You can use this strategy whenever you have an argument that has en effect on the response data but converting that argument to a string results in a value containing the object's memory location.</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../installation/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Installation"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Installation </div> </div> </a> <a href=../todo/ class="md-footer__link md-footer__link--next" aria-label="Next: To Do"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> To Do </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Â© 2024 Grant Ramsay (Seapagan) </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/seapagan target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://twitter.com/gnramsay-dev target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["navigation.footer", "content.code.copy", "content.code.annotate", "navigation.tracking", "navigation.indexes", "navigation.prune", "navigation.top", "toc.follow"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../assets/javascripts/bundle.081f42fc.min.js></script> </body> </html>